Jscex=function(){function h(a){this.m=Jscex.builders[a].binder;this.s=null}function i(a){this.G=a;this.m=Jscex.builders[a].binder;this.N=!1;this.d="$$_builder_$$_"+g++}function k(a){if(a[0]!="call")return!1;var b=a[1];if(b[0]!="name"||b[1]!="eval")return!1;a=a[2][0];if(!a||a[0]!="call")return!1;b=a[1];if(!b||b[0]!="dot"||b[2]!="compile")return!1;b=b[1];if(!b||b[0]!="name"||b[1]!="Jscex")return!1;b=a[2][0];if(!b||b[0]!="string")return!1;a=a[2][1];if(!a||a[0]!="function")return!1;return!0}function j(a){var b=
a[2][0][2][0][1];a=a[2][0][2][1];var c=(new h(b)).A(a);return(new i(b)).A(a[2],c)}var g=0;h.prototype={A:function(a){a=a[3];this.s={type:"delay",c:[]};this.h(a,this.s.c);return this.s},H:function(a){var b=a[0];if(b=="stat"){if(b=a[1],b[0]=="call"){var c=b[1];if(c[0]=="name"&&c[1]==this.m)return{w:b[2][0],p:"",r:!1}}}else if(b=="var"){if(a=a[1],a.length==1&&(b=a[0],a=b[0],(b=b[1])&&b[0]=="call"))if(c=b[1],c[0]=="name"&&c[1]==this.m)return{w:b[2][0],p:a,r:!1}}else if(b=="return"&&(b=a[1])&&b[0]=="call")if(c=
b[1],c[0]=="name"&&c[1]==this.m)return{w:b[2][0],p:"$$_result_$$",r:!0};return null},h:function(a,b,c){arguments.length<=2&&(c=0);if(c>=a.length)return b.push({type:"normal"}),this;var d=a[c],e=this.H(d);if(e){if(d={type:"bind",info:e},b.push(d),!e.r)d.c=[],this.h(a,d.c,c+1)}else e=d[0],e=="return"||e=="break"||e=="continue"||e=="throw"?b.push({type:e,f:d}):e=="while"||e=="try"||e=="if"||e=="for"||e=="do"||e=="for-in"?c==a.length-1?this.k(d,b):(e={type:"combine",D:{type:"delay",c:[]},F:{type:"delay",
c:[]}},b.push(e),this.k(d,e.D.c),this.h(a,e.F.c,c+1)):(b.push({type:"raw",f:d}),this.h(a,b,c+1));return this},k:function(a,b){var c=this.K[a[0]];c&&c.call(this,a,b);return this},n:function(a,b){a[0]=="block"?this.k(a,b):this.h([a],b)},K:{"for":function(a,b){var c={type:"delay",c:[]};b.push(c);var d=a[1];d&&c.c.push({type:"raw",f:d});d={type:"loop",q:!1,e:{type:"delay",c:[]}};c.c.push(d);if(c=a[2])d.l=c;if(c=a[3])d.update=c;this.n(a[4],d.e.c)},"for-in":function(a,b){var c="$$_members_$$_"+g,d="$$_index_$$_"+
g,e="$$_mem_$$_"+g;g++;var h=a[3],f={type:"delay",c:[]};b.push(f);f.c.push({type:"raw",f:["var",[[c,["array",[]]]]]});f.c.push({type:"raw",f:["for-in",["var",[[e]]],["name",[e]],h,["stat",["call",["dot",["name",c],"push"],[["name",e]]]]]});f.c.push({type:"raw",f:["var",[[d,["num",0]]]]});e={type:"loop",q:!1,update:["unary-postfix","++",["name",d]],l:["binary","<",["name",d],["dot",["name",c],"length"]],e:{type:"delay",c:[]}};f.c.push(e);f=a[2][1];a[1][0]=="var"?e.e.c.push({type:"raw",f:["var",[[f,
["sub",["name",c],["name",d]]]]]}):e.e.c.push({type:"raw",f:["stat",["assign",!0,["name",f],["sub",["name",c],["name",d]]]]});this.n(a[4],e.e.c)},block:function(a,b){this.h(a[1],b)},"while":function(a,b){var c={type:"loop",q:!1,e:{type:"delay",c:[]}};b.push(c);c.l=a[1];this.n(a[2],c.e.c)},"do":function(a,b){var c={type:"loop",q:!0,e:{type:"delay",c:[]}};b.push(c);c.l=a[1];this.n(a[2],c.e.c)},"if":function(a,b){var c={type:"if",u:[]};for(b.push(c);;){var d={L:a[1],c:[]};c.u.push(d);this.k(a[2],d.c);
if((d=a[3])&&d[0]=="if")a=d;else break}if(d=a[3])c.v=[],this.k(d,c.v)},"try":function(a,b){var c={type:"try",e:{type:"delay",c:[]}};b.push(c);this.h(a[1],c.e.c);var d=a[2];if(d)c.M=d[0],c.t=[],this.h(d[1],c.t);if(d=a[3])c.z={type:"delay",c:[]},this.h(d,c.z.c)}}};i.prototype={a:function(a){this.B.push(a);return this},A:function(a,b){this.B=[];this.a("(function ("+a.join(", ")+") {");this.a("var "+this.d+" = Jscex.builders["+JSON.stringify(this.G)+"];");this.a("return "+this.d+".Start(this,");this.g(b);
this.a(");");this.a("})");return this.B.join("")},g:function(a){this.I[a.type].call(this,a);return this},b:function(a){var b=this.J[a[0]];b&&b.call(this,a);return this},i:function(a){for(var b=0;b<a.length;b++){var c=a[b];c.type=="raw"||c.type=="if"?this.g(c):c.type=="delay"?this.i(c.c):this.a("return ").g(c).a(";")}},j:function(a){for(var b=0;b<a.length;b++)this.b(a[b])},o:function(a){this.b(a);return this},C:function(a){var b=a[3];this.a("function "+(a[1]||"")+"("+a[2].join(", ")+") {");this.j(b);
this.a("}")},I:{delay:function(a){if(a.c.length==1){var b=a.c[0];switch(b.type){case "delay":case "combine":case "normal":case "break":case "continue":case "loop":case "try":this.g(b);return;case "return":if(!b.f[1]){this.g(b);return}}}this.a(this.d+".Delay(function () {");this.i(a.c);this.a("})")},combine:function(a){this.a(this.d+".Combine(");this.g(a.D).a(",");this.g(a.F);this.a(")")},loop:function(a){this.a(this.d+".Loop(");a.l?(this.a("function () {"),this.a("return ").b(a.l).a(";"),this.a("},")):
this.a("null,");a.update?(this.a("function () {"),this.b(a.update).a(";"),this.a("},")):this.a("null,");this.g(a.e).a(",");this.a(a.q);this.a(")")},raw:function(a){this.b(a.f)},bind:function(a){var b=a.info;this.a(this.d+".Bind(").b(b.w).a(", function ("+b.p+") {");b.r?this.a("return "+this.d+".Return("+b.p+");"):this.i(a.c);this.a("})")},"if":function(a){for(var b=0;b<a.u.length;b++){var c=a.u[b];this.a("if (").b(c.L).a(") {");this.i(c.c);this.a("} else ")}this.a("{");a.v?this.i(a.v):this.a("return "+
this.d+".Normal();");this.a("}")},"try":function(a){this.a(this.d+".Try(");this.g(a.e).a(",");a.t?(this.a("function ("+a.M+") {"),this.i(a.t),this.a("},")):this.a("null,");a.z?this.g(a.z):this.a("null");this.a(")")},normal:function(){this.a(this.d+".Normal()")},"throw":function(a){this.a(this.d+".Throw(").b(a.f[1]).a(")")},"break":function(){this.a(this.d+".Break()")},"continue":function(){this.a(this.d+".Continue()")},"return":function(a){this.a(this.d+".Return(");a.f[1]&&this.b(a.f[1]);this.a(")")}},
J:{"var":function(a){this.a("var ");a=a[1];for(var b=0;b<a.length;b++)this.a(a[b][0]),a[b].length>1&&this.a(" = ").b(a[b][1]),b<a.length-1&&this.a(", ");this.a(";")},seq:function(a){for(var b=1;b<a.length;b++)this.b(a[b]),b<a.length-1&&this.a(", ")},binary:function(a){var b=a[1],c=a[2];a=a[3];this.a("(").b(c).a(") ");this.a(b);this.a(" (").b(a).a(")")},sub:function(a){var b=a[1];a=a[2];this.a("(").b(b).a(")[").b(a).a("]")},"unary-postfix":function(a){var b=a[1];this.b(a[2]).a(b)},"unary-prefix":function(a){var b=
a[2];this.a(a[1]).b(b)},assign:function(a){var b=a[1],c=a[3];this.b(a[2]);typeof b=="string"?this.a(" "+b+"= "):this.a(" = ");this.b(c)},stat:function(a){this.b(a[1]).a(";")},dot:function(a){this.a("(").b(a[1]).a(").").a(a[2])},"new":function(a){var b=a[1];this.a("new ").b(b).a("(");a=a[2];b=0;for(var c=a.length;b<c;b++)this.b(a[b]),b<c-1&&this.a(", ");this.a(")")},call:function(a){if(k(a))this.a(j(a));else{this.b(a[1]).a("(");a=a[2];for(var b=0;b<a.length;b++)this.b(a[b]),b<a.length-1&&this.a(", ");
this.a(")")}},name:function(a){this.a(a[1])},object:function(a){this.a("{");a=a[1];for(var b=0;b<a.length;b++)this.a(JSON.stringify(a[b][0])+": ").b(a[b][1]),b<a.length-1&&this.a(", ");this.a("}")},array:function(a){this.a("[");a=a[1];for(var b=0;b<a.length;b++)this.b(a[b]),b<a.length-1&&this.a(", ");this.a("]")},num:function(a){this.a(a[1])},regexp:function(a){this.a("/"+a[1]+"/"+a[2])},string:function(a){this.a(JSON.stringify(a[1]))},"function":function(a){this.C(a)},defun:function(a){this.C(a)},
"return":function(a){this.a("return");(a=a[1])&&this.a(" ").b(a);this.a(";")},"for":function(a){this.a("for (");var b=a[1];b?(this.b(b),b[0]!="var"?this.a("; "):this.a(" ")):this.a("; ");(b=a[2])&&this.b(b);this.a("; ");(b=a[3])&&this.b(b);this.a(") ");this.o(a[4])},"for-in":function(a){this.a("for (");var b=a[1];b[0]=="var"?this.a("var "+b[1][0][0]):this.b(b);this.a(" in ").b(a[3]).a(") ");this.o(a[4])},block:function(a){this.a("{");this.j(a[1]);this.a("}")},"while":function(a){var b=a[1];a=a[2];
this.a("while (").b(b).a(") ").o(a)},"do":function(a){var b=a[1];a=a[2];this.a("do ").o(a).a("while (").b(b).a(");")},"if":function(a){var b=a[1],c=a[2];this.a("if (").b(b).a(") {");this.b(c);this.a("}");if(a=a[3])a[0]=="if"?this.a(" else ").b(a):(this.a(" else {"),this.b(a),this.a("}"))},"break":function(){this.a("break;")},"continue":function(){this.a("continue;")},"throw":function(a){this.a("throw ").b(a[1]).a(";")},conditional:function(a){this.a("(").b(a[1]).a(") ? ("+a[2]+") : (").b(a[3]).a(")")},
"try":function(a){this.a("try {");this.j(a[1]);var b=a[2];a=a[3];b&&(this.a("} catch ("+b[0]+") {"),this.j(b[1]));a&&(this.a("} finally {"),this.j(a));this.a("}")},"switch":function(a){this.a("switch (").b(a[1]).a(") {");a=a[2];for(var b=0;b<a.length;b++){var c=a[b];c[0]?this.a("case ").b(c[0]).a(":"):this.a("default:");this.j(c[1])}this.a("}")}}};return{config:{},compile:function(a,b){var c=b.toString();c="eval(Jscex.compile("+JSON.stringify(a)+", "+c+"))";c=UglifyJS.parse(c)[1][0][1];c=j(c);var d=
Jscex.config.codeGenerator;return d?d(c):c},builders:{}}}();
