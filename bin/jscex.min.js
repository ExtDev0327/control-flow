Jscex=function(){function g(a){this.o=Jscex.builders[a].binder;this.k=0;this.c=this.u=null}function h(a){this.I=a;this.o=Jscex.builders[a].binder;this.P=!1;this.k=0}g.prototype={C:function(a){a=a[3];this.u={type:"delay",e:[]};this.c=this.u.e;this.i(a);return this.u},J:function(a){var b=a[0];if(b=="stat"){if(b=a[1],b[0]=="call"){var c=b[1];if(c[0]=="name"&&c[1]==this.o)return{A:b[2][0],r:"",t:!1}}}else if(b=="var"){if(a=a[1],a.length==1&&(b=a[0],a=b[0],(b=b[1])&&b[0]=="call"))if(c=b[1],c[0]=="name"&&
c[1]==this.o)return{A:b[2][0],r:a,t:!1}}else if(b=="return"&&(b=a[1])&&b[0]=="call")if(c=b[1],c[0]=="name"&&c[1]==this.o)return{A:b[2][0],r:"$$_result_$$",t:!0};return null},i:function(a,b){arguments.length<=1&&(b=0);if(b>=a.length)return this.c.push({type:"normal"}),this;var c=a[b],d=this.J(c);if(d){if(c={type:"bind",info:d},this.c.push(c),!d.t)c.e=[],d=this.c,this.c=c.e,this.i(a,b+1),this.c=d}else if(d=c[0],d=="return"||d=="break"||d=="continue"||d=="throw")this.c.push({type:d,g:c});else if(d==
"while"||d=="try"||d=="if"||d=="for"||d=="do"||d=="for-in")if(b==a.length-1)this.l(c);else{var f={type:"combine",G:{type:"delay",e:[]},H:{type:"delay",e:[]}};this.c.push(f);d=this.c;this.c=f.G.e;this.l(c);this.c=f.H.e;this.i(a,b+1);this.c=d}else this.c.push({type:"raw",g:c}),this.i(a,b+1);return this},l:function(a){var b=this.M[a[0]];b&&b.call(this,a);return this},p:function(a){a[0]=="block"?this.l(a):this.i([a])},M:{"for":function(a){var b={type:"delay",e:[]};this.c.push(b);var c=a[1];c&&b.e.push({type:"raw",
g:c});c={type:"loop",s:!1,f:{type:"delay",e:[]}};b.e.push(c);if(b=a[2])c.n=b;if(b=a[3])c.update=b;b=this.c;this.c=c.f.e;this.p(a[4]);this.c=b},"for-in":function(a){var b="$$_members_$$_"+this.k,c="$$_index_$$_"+this.k,d="$$_mem_$$_"+this.k;this.k++;var f=a[3],e={type:"delay",e:[]};this.c.push(e);e.e.push({type:"raw",g:["var",[[b,["array",[]]]]]});e.e.push({type:"raw",g:["for-in",["var",[[d]]],["name",[d]],f,["stat",["call",["dot",["name",b],"push"],[["name",d]]]]]});e.e.push({type:"raw",g:["var",
[[c,["num",0]]]]});d={type:"loop",s:!1,update:["unary-postfix","++",["name",c]],n:["binary","<",["name",c],["dot",["name",b],"length"]],f:{type:"delay",e:[]}};e.e.push(d);e=a[2][1];a[1][0]=="var"?d.f.e.push({type:"raw",g:["var",[[e,["sub",["name",b],["name",c]]]]]}):d.f.e.push({type:"raw",g:["stat",["assign",!0,["name",e],["sub",["name",b],["name",c]]]]});b=this.c;this.c=d.f.e;this.p(a[4]);this.c=b},block:function(a){this.i(a[1])},"while":function(a){var b={type:"loop",s:!1,f:{type:"delay",e:[]}};
this.c.push(b);b.n=a[1];var c=this.c;this.c=b.f.e;this.p(a[2]);this.c=c},"do":function(a){var b={type:"loop",s:!0,f:{type:"delay",e:[]}};this.c.push(b);b.n=a[1];var c=this.c;this.c=b.f.e;this.p(a[2]);this.c=c},"if":function(a){var b={type:"if",w:[]};for(this.c.push(b);;){var c={N:a[1],e:[]};b.w.push(c);var d=this.c;this.c=c.e;this.l(a[2]);this.c=d;if((c=a[3])&&c[0]=="if")a=c;else break}if(c=a[3])b.z=[],d=this.c,this.c=b.z,this.l(c),this.c=d},"try":function(a){var b={type:"try",f:{type:"delay",e:[]}};
this.c.push(b);var c=this.c;this.c=b.f.e;this.i(a[1]);this.c=c;var d=a[2];if(d)b.O=d[0],b.v=[],c=this.c,this.c=b.v,this.i(d[1]),this.c=c;if(a=a[3])b.B={type:"delay",e:[]},c=this.c,this.c=b.B.e,this.i(a),this.c=c}}};h.prototype={b:function(a){this.D.push(a);return this},C:function(a,b){this.D=[];this.b("(function ("+a.join(", ")+") {");this.b("var $$_builder_$$ = Jscex.builders["+JSON.stringify(this.I)+"];");this.b("return $$_builder_$$.Start(this,");this.h(b);this.b(");");this.b("})");return this.D.join("")},
h:function(a){this.K[a.type].call(this,a);return this},d:function(a){var b=this.L[a[0]];b&&b.call(this,a);return this},j:function(a){for(var b=0;b<a.length;b++){var c=a[b];c.type=="raw"||c.type=="if"?this.h(c):c.type=="delay"?this.j(c.e):this.b("return ").h(c).b(";")}},m:function(a){for(var b=0;b<a.length;b++)this.d(a[b])},q:function(a){this.d(a);return this},F:function(a){var b=a[3];this.b("function "+(a[1]||"")+"("+a[2].join(", ")+") {");this.m(b);this.b("}")},K:{delay:function(a){if(a.e.length==
1){var b=a.e[0];switch(b.type){case "delay":case "combine":case "normal":case "break":case "continue":case "loop":case "try":this.h(b);return;case "return":if(!b.g[1]){this.h(b);return}}}this.b("$$_builder_$$.Delay(function () {");this.j(a.e);this.b("})")},combine:function(a){this.b("$$_builder_$$.Combine(");this.h(a.G).b(",");this.h(a.H);this.b(")")},loop:function(a){this.b("$$_builder_$$.Loop(");a.n?(this.b("function () {"),this.b("return ").d(a.n).b(";"),this.b("},")):this.b("null,");a.update?
(this.b("function () {"),this.d(a.update).b(";"),this.b("},")):this.b("null,");this.h(a.f).b(",");this.b(a.s);this.b(")")},raw:function(a){this.d(a.g)},bind:function(a){var b=a.info;this.b("$$_builder_$$.Bind(").d(b.A).b(", function ("+b.r+") {");b.t?this.b("return $$_builder_$$.Return("+b.r+");"):this.j(a.e);this.b("})")},"if":function(a){for(var b=0;b<a.w.length;b++){var c=a.w[b];this.b("if (").d(c.N).b(") {");this.j(c.e);this.b("} else ")}this.b("{");a.z?this.j(a.z):this.b("return $$_builder_$$.Normal();");
this.b("}")},"try":function(a){this.b("$$_builder_$$.Try(");this.h(a.f).b(",");a.v?(this.b("function ("+a.O+") {"),this.j(a.v),this.b("},")):this.b("null,");a.B?this.h(a.B):this.b("null");this.b(")")},normal:function(){this.b("$$_builder_$$.Normal()")},"throw":function(){this.b("$$_builder_$$.Throw()")},"break":function(){this.b("$$_builder_$$.Break()")},"continue":function(){this.b("$$_builder_$$.Continue()")},"return":function(a){this.b("$$_builder_$$.Return(");a.g[1]&&this.d(a.g[1]);this.b(")")}},
L:{"var":function(a){this.b("var ");a=a[1];for(var b=0;b<a.length;b++)this.b(a[b][0]),a[b].length>1&&this.b(" = ").d(a[b][1]),b<a.length-1&&this.b(", ");this.b(";")},seq:function(a){for(var b=1;b<a.length;b++)this.d(a[b]),b<a.length-1&&this.b(", ")},binary:function(a){var b=a[1],c=a[2];a=a[3];this.b("(").d(c).b(") ");this.b(b);this.b(" (").d(a).b(")")},sub:function(a){var b=a[1];a=a[2];this.b("(").d(b).b(")[").d(a).b("]")},"unary-postfix":function(a){var b=a[1];this.d(a[2]).b(b)},"unary-prefix":function(a){var b=
a[2];this.b(a[1]).d(b)},assign:function(a){var b=a[1],c=a[3];this.d(a[2]);typeof b=="string"?this.b(" "+b+"= "):this.b(" = ");this.d(c)},stat:function(a){this.d(a[1]).b(";")},dot:function(a){this.b("(").d(a[1]).b(").").b(a[2])},"new":function(a){var b=a[1];this.b("new ").d(b).b("(");a=a[2];b=0;for(var c=a.length;b<c;b++)this.d(a[b]),b<c-1&&this.b(", ");this.b(")")},call:function(a){this.d(a[1]).b("(");a=a[2];for(var b=0;b<a.length;b++)this.d(a[b]),b<a.length-1&&this.b(", ");this.b(")")},name:function(a){this.b(a[1])},
object:function(a){this.b("{");a=a[1];for(var b=0;b<a.length;b++)this.b(JSON.stringify(a[b][0])+": ").d(a[b][1]),b<a.length-1&&this.b(", ");this.b("}")},array:function(a){this.b("[");a=a[1];for(var b=0;b<a.length;b++)this.d(a[b]),b<a.length-1&&this.b(", ");this.b("]")},num:function(a){this.b(a[1])},regexp:function(a){this.b("/"+a[1]+"/"+a[2])},string:function(a){this.b(JSON.stringify(a[1]))},"function":function(a){this.F(a)},defun:function(a){this.F(a)},"return":function(a){this.b("return");(a=a[1])&&
this.b(" ").d(a);this.b(";")},"for":function(a){this.b("for (");var b=a[1];b?(this.d(b),b[0]!="var"?this.b("; "):this.b(" ")):this.b("; ");(b=a[2])&&this.d(b);this.b("; ");(b=a[3])&&this.d(b);this.b(") ");this.q(a[4])},"for-in":function(a){this.b("for (");var b=a[1];b[0]=="var"?this.b("var "+b[1][0][0]):this.d(b);this.b(" in ").d(a[3]).b(") ");this.q(a[4])},block:function(a){this.b("{");this.m(a[1]);this.b("}")},"while":function(a){var b=a[1];a=a[2];this.b("while (").d(b).b(") ").q(a)},"do":function(a){var b=
a[1];a=a[2];this.b("do ").q(a).b("while (").d(b).b(");")},"if":function(a){var b=a[1],c=a[2];this.b("if (").d(b).b(") {");this.d(c);this.b("}");if(a=a[3])a[0]=="if"?this.b(" else ").d(a):(this.b(" else {"),this.d(a),this.b("}"))},"break":function(){this.b("break;")},"continue":function(){this.b("continue;")},"throw":function(a){this.b("throw ").d(a[1]).b(";")},conditional:function(a){this.b("(").d(a[1]).b(") ? ("+a[2]+") : (").d(a[3]).b(")")},"try":function(a){this.b("try {");this.m(a[1]);var b=a[2];
a=a[3];b&&(this.b("} catch ("+b[0]+") {"),this.m(b[1]));a&&(this.b("} finally {"),this.m(a));this.b("}")},"switch":function(){}}};return{compile:function(a,b){var c=UglifyJS.parse("var f = "+b.toString()+";")[1][0][1][0][1],d=(new g(a)).C(c);return(new h(a)).C(c[2],d)},builders:{}}}();
