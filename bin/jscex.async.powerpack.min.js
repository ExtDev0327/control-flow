(function(){var e=Jscex.Async,c=e.Task;e.sleep=function(b){return new c({onStart:function(d){setTimeout(function(){d("success")},b)}})};e.onEvent=function(b,d){var g="on"+d;return new c({onStart:function(d){b[g]=function(a){b[g]=null;d("success",a)}}})};c.waitAll=function(b){return new c({onStart:function(d){for(var g={},c=[],a=0;a<b.length;a++)g[b[a].id]=a,c.push(f);var e=[],h=function(a){if(a.error){for(var b=0;b<tasksClone.length;b++)c[b].removeListener(h);d("failure",a.error)}else e[g[a.id]]=
a.result,a=tasksClone.indexOf(a),c.splice(a,1),c.length==0&&(finished=!0,d("success",e))};for(a=0;a<b.length;a++){var f=b[a];switch(f.status){case "ready":f.addListener(h);f.start();break;case "running":f.addListener(h);break;default:h(f)}}}})}})();
