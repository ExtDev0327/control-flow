(function(){var a,j=function(){throw Error('Please set "Wind.Promise.create" to provide a factory method for creating a promise object.');},d=function(){};d.prototype={Start:function(c,g){return a.Promise.create(function(a,e){g.next(c,function(f,c){if(f=="normal"||f=="return")a(c);else if(f=="throw")e(c);else throw Error("Unsupported type: "+f);})})},Bind:function(a,g){return{next:function(b,e){a.then(function(a){var c;try{c=g.call(b,a)}catch(d){return e("throw",d)}c.next(b,e)},function(a){e("throw",
a)})}}}};var i=!!(typeof require==="function"&&typeof module!=="undefined"&&module.exports),b=!!(typeof require==="function"&&typeof define==="function"&&define.amd),h=function(){a.define({name:"promise",version:"0.7.0",require:i&&require,autoloads:["builderbase"],dependencies:{builderbase:"~0.7.0"},init:function(){a._.each(a.BuilderBase.prototype,function(a,b){d.prototype[a]=b});if(!a.Promise)a.Promise={};a.Promise.create=j;a.binders.promise="$await";a.builders.promise=new d}})};if(i){try{a=require("./wind-core")}catch(k){a=
require("wind-core")}h()}else if(b)require(["wind-core"],function(b){a=b;h()});else{b=Function("return this")();if(!b.Wind)throw Error('Missing the root object, please load "wind" component first.');a=b.Wind;h()}})();
